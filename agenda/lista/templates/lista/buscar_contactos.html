{% extends 'lista/base.html' %}

{% block content %}
<h2>Buscar Contactos</h2>
<form method="get" action="">
	<input type="text" name="q" placeholder="Buscar por nombre" value="{{ query|default:'' }}">
	<button type="submit">Buscar</button>
</form>

{% if query %}
	<h3>Resultados para "{{ query }}":</h3>
	{% if resultados %}
		<ul>
		{% for contacto in resultados %}
			<li>
				<a href="{% url 'detalle_contactos' contacto.id %}">{{ contacto.nombre }}</a>
				({{ contacto.correo }}, {{ contacto.telefono }})
			</li>
		{% endfor %}
		</ul>
	{% else %}
		<p>No se encontraron contactos con ese nombre.</p>
	{% endif %}
{% endif %}
{% endblock %}